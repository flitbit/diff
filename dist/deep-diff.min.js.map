{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","validKinds","inherits","ctor","superCtor","super_","constructor","writable","configurable","Diff","kind","path","this","length","DiffEdit","origin","DiffNew","DiffDeleted","DiffArray","index","item","arrayRemove","arr","from","to","rest","slice","push","apply","realTypeOf","subject","type","Math","Array","isArray","toString","test","hashThisString","string","hash","charCodeAt","getOrderIndependentHash","accum","forEach","keyValueString","deepDiff","lhs","rhs","changes","prefilter","stack","orderIndependent","currentPath","normalize","alt","j","k","other","ltype","rtype","ldefined","getOwnPropertyDescriptor","rdefined","sort","a","b","undefined","akeys","keys","pkeys","indexOf","isNaN","observableDiff","observer","accumulateDiff","difference","applyChange","target","source","change","it","last","applyArrayChange","u","defineProperties","diff","orderIndependentDiff","orderIndependentObservableDiff","orderIndepHash","applyDiff","filter","revertChange","revertArrayChange","isConflict","$conflict","DeepDiff"],"mappings":"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","file":"deep-diff.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var validKinds = ['N', 'E', 'A', 'D'];\n\n// nodejs compatible on server side and in the browser.\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction Diff(kind, path) {\n  Object.defineProperty(this, 'kind', {\n    value: kind,\n    enumerable: true\n  });\n  if (path && path.length) {\n    Object.defineProperty(this, 'path', {\n      value: path,\n      enumerable: true\n    });\n  }\n}\n\nfunction DiffEdit(path, origin, value) {\n  DiffEdit.super_.call(this, 'E', path);\n  Object.defineProperty(this, 'lhs', {\n    value: origin,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffEdit, Diff);\n\nfunction DiffNew(path, value) {\n  DiffNew.super_.call(this, 'N', path);\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffNew, Diff);\n\nfunction DiffDeleted(path, value) {\n  DiffDeleted.super_.call(this, 'D', path);\n  Object.defineProperty(this, 'lhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffDeleted, Diff);\n\nfunction DiffArray(path, index, item) {\n  DiffArray.super_.call(this, 'A', path);\n  Object.defineProperty(this, 'index', {\n    value: index,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'item', {\n    value: item,\n    enumerable: true\n  });\n}\ninherits(DiffArray, Diff);\n\nfunction arrayRemove(arr, from, to) {\n  var rest = arr.slice((to || from) + 1 || arr.length);\n  arr.length = from < 0 ? arr.length + from : from;\n  arr.push.apply(arr, rest);\n  return arr;\n}\n\nfunction realTypeOf(subject) {\n  var type = typeof subject;\n  if (type !== 'object') {\n    return type;\n  }\n\n  if (subject === Math) {\n    return 'math';\n  } else if (subject === null) {\n    return 'null';\n  } else if (Array.isArray(subject)) {\n    return 'array';\n  } else if (Object.prototype.toString.call(subject) === '[object Date]') {\n    return 'date';\n  } else if (typeof subject.toString === 'function' && /^\\/.*\\//.test(subject.toString())) {\n    return 'regexp';\n  }\n  return 'object';\n}\n\n// http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/\nfunction hashThisString(string) {\n  var hash = 0;\n  if (string.length === 0) { return hash; }\n  for (var i = 0; i < string.length; i++) {\n    var char = string.charCodeAt(i);\n    hash = ((hash << 5) - hash) + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n\n// Gets a hash of the given object in an array order-independent fashion\n// also object key order independent (easier since they can be alphabetized)\nfunction getOrderIndependentHash(object) {\n  var accum = 0;\n  var type = realTypeOf(object);\n\n  if (type === 'array') {\n    object.forEach(function (item) {\n      // Addition is commutative so this is order indep\n      accum += getOrderIndependentHash(item);\n    });\n\n    var arrayString = '[type: array, hash: ' + accum + ']';\n    return accum + hashThisString(arrayString);\n  }\n\n  if (type === 'object') {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        var keyValueString = '[ type: object, key: ' + key + ', value hash: ' + getOrderIndependentHash(object[key]) + ']';\n        accum += hashThisString(keyValueString);\n      }\n    }\n\n    return accum;\n  }\n\n  // Non object, non array...should be good?\n  var stringToHash = '[ type: ' + type + ' ; value: ' + object + ']';\n  return accum + hashThisString(stringToHash);\n}\n\nfunction deepDiff(lhs, rhs, changes, prefilter, path, key, stack, orderIndependent) {\n  changes = changes || [];\n  path = path || [];\n  stack = stack || [];\n  var currentPath = path.slice(0);\n  if (typeof key !== 'undefined' && key !== null) {\n    if (prefilter) {\n      if (typeof (prefilter) === 'function' && prefilter(currentPath, key)) {\n        return;\n      } else if (typeof (prefilter) === 'object') {\n        if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) {\n          return;\n        }\n        if (prefilter.normalize) {\n          var alt = prefilter.normalize(currentPath, key, lhs, rhs);\n          if (alt) {\n            lhs = alt[0];\n            rhs = alt[1];\n          }\n        }\n      }\n    }\n    currentPath.push(key);\n  }\n\n  // Use string comparison for regexes\n  if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {\n    lhs = lhs.toString();\n    rhs = rhs.toString();\n  }\n\n  var ltype = typeof lhs;\n  var rtype = typeof rhs;\n  var i, j, k, other;\n\n  var ldefined = ltype !== 'undefined' ||\n    (stack && (stack.length > 0) && stack[stack.length - 1].lhs &&\n      Object.getOwnPropertyDescriptor(stack[stack.length - 1].lhs, key));\n  var rdefined = rtype !== 'undefined' ||\n    (stack && (stack.length > 0) && stack[stack.length - 1].rhs &&\n      Object.getOwnPropertyDescriptor(stack[stack.length - 1].rhs, key));\n\n  if (!ldefined && rdefined) {\n    changes.push(new DiffNew(currentPath, rhs));\n  } else if (!rdefined && ldefined) {\n    changes.push(new DiffDeleted(currentPath, lhs));\n  } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {\n    changes.push(new DiffEdit(currentPath, lhs, rhs));\n  } else if (realTypeOf(lhs) === 'date' && (lhs - rhs) !== 0) {\n    changes.push(new DiffEdit(currentPath, lhs, rhs));\n  } else if (ltype === 'object' && lhs !== null && rhs !== null) {\n    for (i = stack.length - 1; i > -1; --i) {\n      if (stack[i].lhs === lhs) {\n        other = true;\n        break;\n      }\n    }\n    if (!other) {\n      stack.push({ lhs: lhs, rhs: rhs });\n      if (Array.isArray(lhs)) {\n        // If order doesn't matter, we need to sort our arrays\n        if (orderIndependent) {\n          lhs.sort(function (a, b) {\n            return getOrderIndependentHash(a) - getOrderIndependentHash(b);\n          });\n\n          rhs.sort(function (a, b) {\n            return getOrderIndependentHash(a) - getOrderIndependentHash(b);\n          });\n        }\n        i = rhs.length - 1;\n        j = lhs.length - 1;\n        while (i > j) {\n          changes.push(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i--])));\n        }\n        while (j > i) {\n          changes.push(new DiffArray(currentPath, j, new DiffDeleted(undefined, lhs[j--])));\n        }\n        for (; i >= 0; --i) {\n          deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack, orderIndependent);\n        }\n      } else {\n        var akeys = Object.keys(lhs);\n        var pkeys = Object.keys(rhs);\n        for (i = 0; i < akeys.length; ++i) {\n          k = akeys[i];\n          other = pkeys.indexOf(k);\n          if (other >= 0) {\n            deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack, orderIndependent);\n            pkeys[other] = null;\n          } else {\n            deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack, orderIndependent);\n          }\n        }\n        for (i = 0; i < pkeys.length; ++i) {\n          k = pkeys[i];\n          if (k) {\n            deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack, orderIndependent);\n          }\n        }\n      }\n      stack.length = stack.length - 1;\n    } else if (lhs !== rhs) {\n      // lhs is contains a cycle at this element and it differs from rhs\n      changes.push(new DiffEdit(currentPath, lhs, rhs));\n    }\n  } else if (lhs !== rhs) {\n    if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {\n      changes.push(new DiffEdit(currentPath, lhs, rhs));\n    }\n  }\n}\n\nfunction observableDiff(lhs, rhs, observer, prefilter, orderIndependent) {\n  var changes = [];\n  deepDiff(lhs, rhs, changes, prefilter, null, null, null, orderIndependent);\n  if (observer) {\n    for (var i = 0; i < changes.length; ++i) {\n      observer(changes[i]);\n    }\n  }\n  return changes;\n}\n\nfunction orderIndependentDeepDiff(lhs, rhs, changes, prefilter, path, key, stack) {\n  return deepDiff(lhs, rhs, changes, prefilter, path, key, stack, true);\n}\n\nfunction accumulateDiff(lhs, rhs, prefilter, accum) {\n  var observer = (accum) ?\n    function (difference) {\n      if (difference) {\n        accum.push(difference);\n      }\n    } : undefined;\n  var changes = observableDiff(lhs, rhs, observer, prefilter);\n  return (accum) ? accum : (changes.length) ? changes : undefined;\n}\n\nfunction accumulateOrderIndependentDiff(lhs, rhs, prefilter, accum) {\n  var observer = (accum) ?\n    function (difference) {\n      if (difference) {\n        accum.push(difference);\n      }\n    } : undefined;\n  var changes = observableDiff(lhs, rhs, observer, prefilter, true);\n  return (accum) ? accum : (changes.length) ? changes : undefined;\n}\n\nfunction applyArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    var it = arr[index],\n      i, u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        delete it[change.path[i]];\n        break;\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  } else {\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(arr[index], change.index, change.item);\n        break;\n      case 'D':\n        arr = arrayRemove(arr, index);\n        break;\n      case 'E':\n      case 'N':\n        arr[index] = change.rhs;\n        break;\n    }\n  }\n  return arr;\n}\n\nfunction applyChange(target, source, change) {\n  if (typeof change === 'undefined' && source && ~validKinds.indexOf(source.kind)) {\n    change = source;\n  }\n  if (target && change && change.kind) {\n    var it = target,\n      i = -1,\n      last = change.path ? change.path.length - 1 : 0;\n    while (++i < last) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = (typeof change.path[i + 1] !== 'undefined' && typeof change.path[i + 1] === 'number') ? [] : {};\n      }\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        if (change.path && typeof it[change.path[i]] === 'undefined') {\n          it[change.path[i]] = [];\n        }\n        applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);\n        break;\n      case 'D':\n        delete it[change.path[i]];\n        break;\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  }\n}\n\nfunction revertArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    // the structure of the object at the index has changed...\n    var it = arr[index],\n      i, u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'E':\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'N':\n        delete it[change.path[i]];\n        break;\n    }\n  } else {\n    // the array item is different...\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(arr[index], change.index, change.item);\n        break;\n      case 'D':\n        arr[index] = change.lhs;\n        break;\n      case 'E':\n        arr[index] = change.lhs;\n        break;\n      case 'N':\n        arr = arrayRemove(arr, index);\n        break;\n    }\n  }\n  return arr;\n}\n\nfunction revertChange(target, source, change) {\n  if (target && source && change && change.kind) {\n    var it = target,\n      i, u;\n    u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = {};\n      }\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        // Array was modified...\n        // it will be an array...\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        // Item was deleted...\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'E':\n        // Item was edited...\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'N':\n        // Item is new...\n        delete it[change.path[i]];\n        break;\n    }\n  }\n}\n\nfunction applyDiff(target, source, filter) {\n  if (target && source) {\n    var onChange = function (change) {\n      if (!filter || filter(target, source, change)) {\n        applyChange(target, source, change);\n      }\n    };\n    observableDiff(target, source, onChange);\n  }\n}\n\nObject.defineProperties(accumulateDiff, {\n\n  diff: {\n    value: accumulateDiff,\n    enumerable: true\n  },\n  orderIndependentDiff: {\n    value: accumulateOrderIndependentDiff,\n    enumerable: true\n  },\n  observableDiff: {\n    value: observableDiff,\n    enumerable: true\n  },\n  orderIndependentObservableDiff: {\n    value: orderIndependentDeepDiff,\n    enumerable: true\n  },\n  orderIndepHash: {\n    value: getOrderIndependentHash,\n    enumerable: true\n  },\n  applyDiff: {\n    value: applyDiff,\n    enumerable: true\n  },\n  applyChange: {\n    value: applyChange,\n    enumerable: true\n  },\n  revertChange: {\n    value: revertChange,\n    enumerable: true\n  },\n  isConflict: {\n    value: function () {\n      return typeof $conflict !== 'undefined';\n    },\n    enumerable: true\n  }\n});\n\n// hackish...\naccumulateDiff.DeepDiff = accumulateDiff;\n\nmodule.exports = accumulateDiff\n"],"sourceRoot":""}